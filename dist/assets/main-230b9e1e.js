import{R as i,U as v,j as n,q as b,t as y,S as g,T as h,be as T,e as c,aE as M,bM as O,bN as w,B as I,O as R}from"./index-4567d11c.js";import{P as S}from"./Pagination-09178b23.js";const B=()=>{var x,p;const{user:s,notifications:d,generalNotifications:l}=i.useContext(v),o=10,[r,j]=i.useState(""),[u,m]=i.useState(1),C=(e,a)=>{m(a)},t=i.useMemo(()=>[...d||[],...l||[]].filter(e=>r==="unread"?e.topic.includes("general")?!e[(s==null?void 0:s.uid)||""]:!e.is_Read:e.topic.includes(r=="All Notifications"?"":r)),[r,(x=d==null?void 0:d.map(e=>e.is_Read))==null?void 0:x.join(","),(p=l==null?void 0:l.map(e=>!!e[(s==null?void 0:s.uid)||""]))==null?void 0:p.join(",")]);return i.useEffect(()=>{m(1)},[r]),n.jsxs(b,{maxWidth:"md",sx:{px:{xs:0,sm:1},pb:5},children:[n.jsxs(y,{direction:"column",justifyContent:"start",spacing:2,sx:{height:"100%",minHeight:"90vh"},children:[n.jsxs(g,{direction:{xs:"column",sm:"row"},justifyContent:"space-between",children:[n.jsx(h,{variant:"h6",fontWeight:900,children:"Notifications"}),n.jsx(T,{variant:"outlined",size:"small",sx:{minWidth:{md:200,xs:10},".MuiOutlinedInput-notchedOutline":{borderColor:c[300]},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:c[300]},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:c[300]}},defaultValue:"All Notifications",onChange:e=>j(e.target.value),children:["All Notifications","Trade Notifications","Login activity","General updates","Unread"].map((e,a)=>n.jsx(M,{value:a?e.split(" ")[0].toLowerCase():"All Notifications",children:e},a))})]}),t!=null&&t.length?t.sort((e,a)=>e.createdTime<a.createdTime?1:a.createdTime<e.createdTime?-1:0).slice(o*u-o,o*u).map((e,a)=>"text"in e?n.jsx(O,{hideMore:!0,...e,is_Read:!!e[(s==null?void 0:s.uid)||""]},a):n.jsx(w,{uid:s==null?void 0:s.uid,...e},a)):n.jsx(h,{variant:"h5",textAlign:"center",sx:{p:5,color:c[300]},children:"No Record Found"}),n.jsx(I,{flexGrow:1}),n.jsxs(g,{direction:{xs:"column",sm:"row"},alignItems:"center",justifyContent:"space-between",sx:{m:2},children:[n.jsxs(h,{variant:"body1",children:["Total: ",t==null?void 0:t.length]}),n.jsx(S,{variant:"outlined",shape:"rounded",color:"primary",count:t.length<=o?1:(t==null?void 0:t.length)%o?parseInt(((t==null?void 0:t.length)/o).toString())+1:parseInt(((t==null?void 0:t.length)/o).toString()),page:u,onChange:C})]})]}),n.jsx(R,{})]})};export{B as default};
